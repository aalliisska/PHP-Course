{% extends "base.html.twig" %}

{% block title %}Registered user data{% endblock %}
{% block head %}
    {{ parent() }}
{% endblock %}

{% block view_user %}
    <form action="{{ path("update_user", {user_id: user.id}) }}" method="post" enctype="multipart/form-data">
        <h1>Registered user data</h1>
        <div>
            <label for="name">Name</label>
            <input name="first_name" id="first_name" type="text" value="{{ user.firstName}}">
        </div>

        <div>
            <label for="last_name">Last name</label>
            <input name="last_name" id="last_name" type="text" value="{{ user.lastName}}">
        </div>

        <div>
            <label for="middle_name">Middle name</label>
            <input name="middle_name" id="middle_name" type="text" value="{{ user.middleName}}">
        </div>

        <div>
            <label for="gender">Gender</label>
            <input name="gender" id="gender" type="text" value="{{ user.gender}}">
        </div>

        <div>
            <label for="birth_date">Birth date</label>
            <input name="birth_date" id="birth_date" type="date" value="{{ user.birthDate}}">
        </div>

        <div>
            <label for="email">Email</label>
            <input name="email" id="email" type="text" value="{{ user.email}}">
        </div>

        <div>
            <label for="phone">Phone</label>
            <input name="phone" id="phone" type="text" value="{{ user.phone}}">
        </div>

        <div>
            <label for="avatar_path">Avatar</label>
            <input name="avatar_path" id="avatar_path" type="file" accept="image/jpeg, image/jpg, image/gif">
            <p>Current avatar: </p>
            <img src="{{ user.avatarPath}}" style="height: 100px; width: 100px"></img>
        </div>

        <button type="submit">Update</button>
        <form action="/delete_user?user_id=<?= htmlentities($user->getId()) ?>">
            <button type="submit">Delete user</button>
        </form>
    </form>
{% endblock %}
